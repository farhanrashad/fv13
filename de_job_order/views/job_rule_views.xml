<odoo>
    <!--<menuitem id="menu_job_order" name="Job Order" parent="mrp.menu_mrp_root" sequence="20"/>-->
    <!-- Job Order structure Tree-->
    <record id="view_job_order_structure_list_view" model="ir.ui.view">
        <field name="name">job.order.structure.tree</field>
        <field name="model">job.order.structure</field>
        <field name="arch" type="xml">
            <tree string="Job Order Function">
                <field name="name"/>
                <field name="code"/>
                <field name="rule_ids"/>
                <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
            </tree>
        </field>
    </record>
    
    
    <!-- Job Order Structure Form -->
    <record id="view_job_order_strucutre_form" model="ir.ui.view">
        <field name="name">view.job.order.structure.form</field>
        <field name="model">job.order.structure</field>
        <field name="arch" type="xml">
            <form string="Job Order Structure">
                <group col="4">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                </group>
                <notebook colspan="4">
                     <page string="Job Order Rules">
                       <field name="rule_ids">
                         <tree>
                            <field name="name"/>
                            <field name="code"/>
                            <field name="sequence" invisible="1"/>
                            <field name="rule_type"/>
                         </tree>
                      </field>
                     </page>
                </notebook>
            </form>
        </field>
    </record>
    
    <!-- Job Order Action -->
    <record id="action_view_job_order_structure_list_form" model="ir.actions.act_window">
            <field name="name">Job Order Structure</field>
            <field name="res_model">job.order.structure</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to create a new Job Order Rule.
                </p>
            </field>
        </record>
    
    <menuitem id="job_order_structure_menu" name="Job Order Structure" parent="mrp.menu_mrp_configuration" action="action_view_job_order_structure_list_form" sequence="2"/>

    
    <!-- Job Order Rule Form View -->

    <record id="job_order_rule_form_view" model="ir.ui.view">
        <field name="name">job.order.rule.form.view</field>
        <field name="model">job.order.rule</field>
        <field name="arch" type="xml">
            <form string="Job Order Rules">
                <label for="name" class="oe_edit_only"/>
                <h1><field name="name"/></h1>
                <label for="category_id" class="oe_edit_only"/>
                <h2><field name="category_id"/></h2>
                <group col="4">
                    <field name="code"/>
                    <field name="active"/>
                    <field name="sequence"/>
                    <field name="appears_on_sheet"/>
                    <field name="rule_type"/>
                    <field name="is_total"/>
                </group>
                <notebook colspan="6">
                    <page string="General">
                        <group col="2">
                            <separator colspan="2" string="Computation"/>
                            <field name="quantity_select"/><newline/>
                            <field name="quantity_percentage_base" attrs="{'invisible':[('quantity_select','!=','percentage')], 'required': [('quantity_select','=','percentage')]}"/><newline/>
                            <field name="quantity_fix"  attrs="{'invisible':[('quantity_select','!=','fix')], 'required':[('quantity_select','=','fix')]}"/><newline/>
                            <field colspan="4" name="quantity_python_compute" attrs="{'invisible':[('quantity_select','!=','code')], 'required':[('quantity_select','=','code')]}" options="{'mode': 'python'}"/>
                            <field name="quantity_percentage" attrs="{'invisible':[('quantity_select','!=','percentage')], 'required':[('quantity_select','=','percentage')]}"/>
                                
                        </group>
                        <group string="Code" attrs="{'invisible':[('quantity_select','!=','code')], 'required':[('quantity_select','=','code')]}">
                        
                    </group>
                    </page>
                </notebook>
            </form>
        </field>
    </record>
    
    <!-- Job Order Rule Tree View -->
    <record id="job_order_rule_tree_view" model="ir.ui.view">
        <field name="name">job.order.rule.tree.view</field>
        <field name="model">job.order.rule</field>
        <field name="arch" type="xml">
            <tree string="Job Order Rule">
                <field name="name"/>
                <field name="code"/>
            </tree>
        </field>
    </record>
    
    <!-- Job Order Sheet Action View -->
    <record id="job_order_rule_action" model="ir.actions.act_window">
            <field name="name">Job Order Rule</field>
            <field name="res_model">job.order.rule</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                     Click here to create a new Job Order Rule.
                </p>
            </field>
        </record>
    
    <menuitem id="job_order_rule_menu" name="Job Order Rules" parent="mrp.menu_mrp_configuration" action="job_order_rule_action" sequence="3"/>
</odoo>